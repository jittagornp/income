<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition  xmlns="http://www.w3.org/1999/xhtml"
                 xmlns:h="http://java.sun.com/jsf/html"
                 xmlns:p="http://primefaces.org/ui"
                 xmlns:ui="http://java.sun.com/jsf/facelets"
                 xmlns:f="http://java.sun.com/jsf/core">

    <p:dialog id="tagDialog"
              widgetVar="tagWidgetDialog"
              width="600"
              modal="true"
              resizable="false"
              header="เลือกป้ายกำกับ">
        <style>
            .tag-item{
                float: left;
                padding: 3px 5px;
                background-color: #E8F4FF;
                margin-right: 5px;
                display: block;
                border : solid 1px #CEE6F7;
                border-radius: 3px;
                -moz-border-radius: 3px;
                -webkit-border-radius: 3px;
                margin-bottom: 5px;
            }
            
            .tag-item .ui-commandlink{
                text-decoration: none;
            }

            .tag-list .ui-paginator{
                clear: both;
                background: none;
                border: none;
                position: relative;
                top : 10px;
            }

            .tag-list .ui-widget-content{
                border: none;
            }
            
            .delete-tag-button{
                width: 16px;
                margin-left: 5px;
                position: relative;
                bottom : 2px;
            }
            
            .delete-tag-button .ui-button-text{
                padding: 0px;
            }
            
            .check-tag{
                position: relative;
                top : 3px;
                margin-right: 4px;
            }
        </style>

        <h:form id="tagDialogForm">
            <p:inputText id="addTagInput" value="#{tagCtrl.tag.name}"/>
            <p:watermark for="addTagInput" value="พิมพ์ชื่อป้ายกำกับแล้วคลิกปุ่มเพิ่ม"/>
            <p:spacer width="5"/>
            <p:commandButton value="เพิ่ม"
                             actionListener="#{tagCtrl.onAddTag()}"
                             update="@form"
                             icon="ui-icon-plus"
                             styleClass="green-button"/>
            <br/>
            <br/>
            <p:dataList value="#{tagCtrl.tagLazy}"
                        var="item"
                        rows="25"
                        lazy="true"
                        rowIndexVar="counter"
                        paginator="true"
                        styleClass="tag-list"
                        emptyMessage="ยังไม่มีป้ายกำกับ"
                        paginatorPosition="bottom">

                <div class="tag-item">
                    <p:selectBooleanCheckbox value="#{item.selected}" styleClass="check-tag"/>
                    <p:commandLink value="#{item.data.name}"/>
                    <p:commandButton icon="ui-icon-close"
                                     title="คลิกเพื่อลบป้ายกำกับ"
                                     styleClass="white-button delete-tag-button tooltip-w"/>
                </div>
            </p:dataList>
            <div class="dialog-footer">
                <div class="dialog-footer-left">
                    <p:commandButton value="ไม่เลือกทั้งหมด"
                                     update="@form"
                                     actionListener="#{tagCtrl.onClearSelected()}"
                                     styleClass="white-button"/>
                </div>
                <div class="dialog-footer-right">
                    <p:commandButton value="เลือก"
                                     oncomplete="PF('tagWidgetDialog').hide();"
                                     update="@form"
                                     icon="ui-icon-check"
                                     actionListener="#{tagCtrl.onSelectTags()}"
                                     styleClass="green-button"/>
                    <p:spacer width="10"/>
                    <p:commandButton value="ปิด"
                                     type="button"
                                     onclick="PF('tagWidgetDialog').hide();"
                                     icon="ui-icon-close"
                                     styleClass="white-button"/>
                </div>
            </div>
        </h:form>
    </p:dialog>
</ui:composition>