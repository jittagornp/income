<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition  template="/static/template/index.xhtml"
                 xmlns="http://www.w3.org/1999/xhtml"
                 xmlns:h="http://java.sun.com/jsf/html"
                 xmlns:p="http://primefaces.org/ui"
                 xmlns:ui="http://java.sun.com/jsf/facelets"
                 xmlns:f="http://java.sun.com/jsf/core">

    <ui:define name="container">
        <style>
            body{
                background-color: #fff;
            }

            .sidebar{
                display: none;
            }

            .container{
                left: 0;
            }

            .register-box{
                position: relative;
                left: 50%;
                width: 270px;
                margin-left: -135px;
                text-align: center;
                margin-top: 10%;
            }

            .ui-inputfield{
                border : solid 1px #ddd;
            }

            .register-box form td{
                padding: 5px;
            }

            .register-box h1{
                margin-bottom: 15px;
            }

            #registerForm tr td:first-child{
                text-align: right;
            }
        </style>

        <div class="register-box">
            <h1>สร้างบัญชีผู้ใช้ใหม่</h1>
            <h:form id="registerForm" prependId="false">
                <h:panelGrid columns="2">
                    <p:outputPanel>
                        email
                    </p:outputPanel>
                    <p:outputPanel>
                        <p:inputText id="email" value="#{registerAccountCtrl.email}">
                            <p:ajax event="blur" global="false"/>
                        </p:inputText>
                    </p:outputPanel>

                    <p:outputPanel>

                    </p:outputPanel>
                    <p:outputPanel>
                        <p:commandButton value="ตรวจสอบ email ที่ใช้"
                                         update="message"
                                         actionListener="#{registerAccountCtrl.checkEmail()}"
                                         styleClass="white-button"/>
                        <br/>
                        <h:outputText id="message" value="#{registerAccountCtrl.errorMessage}" 
                                      styleClass="#{(empty registerAccountCtrl.errorMessage) or (not registerAccountCtrl.errorMessage.startsWith('email')) ? 'green-text' : 'red-text'}"/>
                    </p:outputPanel>

                    <p:outputPanel>
                        password
                    </p:outputPanel>
                    <p:outputPanel>
                        <p:inputText value="#{registerAccountCtrl.password}" type="password"/>
                    </p:outputPanel>
                    <p:outputPanel>

                    </p:outputPanel>
                    <p:outputPanel>
                        <p:commandButton value="สร้าง"
                                         update=":notification"
                                         actionListener="#{registerAccountCtrl.onCreateUser()}"
                                         icon="ui-icon-arrowthick-1-e"
                                         styleClass="green-button"/>
                    </p:outputPanel>

                    <p:outputPanel>

                    </p:outputPanel>
                    <p:outputPanel>
                    </p:outputPanel>
                </h:panelGrid>
            </h:form>
        </div>
    </ui:define>
</ui:composition>