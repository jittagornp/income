<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition  template="/static/template/index.xhtml"
                 xmlns="http://www.w3.org/1999/xhtml"
                 xmlns:h="http://java.sun.com/jsf/html"
                 xmlns:p="http://primefaces.org/ui"
                 xmlns:ui="http://java.sun.com/jsf/facelets"
                 xmlns:f="http://java.sun.com/jsf/core">

    <ui:define name="container">
        <p:outputPanel styleClass="tab-header">
            <h:form prependId="false">
                <ul class="tab-menu">
                    <li class="#{incomeItemTabCtrl.activeTab('all')}">
                        <p:commandLink value="ทั้งหมด"
                                       actionListener="#{incomeItemTabCtrl.onChangeTab()}"
                                       update="@(.tab-container), @form">
                            <f:param name="tab" value="all"/>
                        </p:commandLink>
                    </li>
                    <li class="#{incomeItemTabCtrl.activeTab('day')}">
                        <p:commandLink value="วัน"
                                       actionListener="#{incomeItemTabCtrl.onChangeTab()}"
                                       update="@(.tab-container), @form">
                            <f:param name="tab" value="day"/>
                        </p:commandLink>
                    </li>
                    <li class="#{incomeItemTabCtrl.activeTab('week')}">
                        <p:commandLink value="สัปดาห์"
                                       actionListener="#{incomeItemTabCtrl.onChangeTab()}"
                                       update="@(.tab-container), @form">
                            <f:param name="tab" value="week"/>
                        </p:commandLink>
                    </li>
                    <li class="#{incomeItemTabCtrl.activeTab('month')}">
                        <p:commandLink value="เดือน"
                                       actionListener="#{incomeItemTabCtrl.onChangeTab()}"
                                       update="@(.tab-container), @form">
                            <f:param name="tab" value="month"/>
                        </p:commandLink>
                    </li>
                    <li class="#{incomeItemTabCtrl.activeTab('year')}">
                        <p:commandLink value="ปี"
                                       actionListener="#{incomeItemTabCtrl.onChangeTab()}"
                                       update="@(.tab-container), @form">
                            <f:param name="tab" value="year"/>
                        </p:commandLink>
                    </li>
                    <li class="clear"></li>
                </ul>
            </h:form>
        </p:outputPanel>
        <p:outputPanel styleClass="tab-container">
            <ui:include src="/income/list/#{incomeItemTabCtrl.currentTab}/index.xhtml"/>
        </p:outputPanel>
    </ui:define>

    <ui:define name="dialog">
        <p:dialog header="เพิ่มรายการรายรับ"
                  modal="true"
                  width="500"
                  resizable="false"
                  id="addIncomeItemDialog"
                  widgetVar="addIncomeItemWidgetDialog">
            <h:form id="addIncomeItemDialogForm" prependId="false">
                <h:panelGrid class="form-grid"
                             columns="2">
                    <p:outputPanel>
                        <h:outputText value="รายการ"/>
                    </p:outputPanel>
                    <p:outputPanel>
                        <p:inputText id="addIncomeName" value=""/>
                        <p:watermark for="addIncomeName" value="ชื่อ"/>
                    </p:outputPanel>

                    <p:outputPanel>
                        <h:outputText value="จำนวนเงิน"/>
                    </p:outputPanel>
                    <p:outputPanel>
                        <p:inputText id="addIncomeValue" value=""/>
                        <p:watermark for="addIncomeValue" value="ตัวเลขเท่านั้น"/>
                    </p:outputPanel>
                </h:panelGrid>
                <div class="dialog-footer">
                    <p:commandButton value="เพิ่ม"
                                     oncomplete="PF('addIncomeItemWidgetDialog').hide();"
                                     icon="ui-icon-check"
                                     styleClass="green-button"/>
                    <p:spacer width="10"/>
                    <p:commandButton value="ยกเลิก"
                                     type="button"
                                     onclick="PF('addIncomeItemWidgetDialog').hide();"
                                     icon="ui-icon-close"
                                     styleClass="white-button"/>
                </div>
            </h:form>
        </p:dialog>

    </ui:define>
</ui:composition>