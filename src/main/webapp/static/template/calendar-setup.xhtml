<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition  xmlns="http://www.w3.org/1999/xhtml"
                 xmlns:h="http://java.sun.com/jsf/html"
                 xmlns:p="http://primefaces.org/ui"
                 xmlns:ui="http://java.sun.com/jsf/facelets"
                 xmlns:f="http://java.sun.com/jsf/core">
    <!-- calendar librarys -->
    <link rel="stylesheet" href="#{facesContext.externalContext.requestContextPath}/static/js/name/keith-wood/calendar/flora-calendars-picker.css"/>
    <script src="#{facesContext.externalContext.requestContextPath}/static/js/name/keith-wood/calendar/jquery-calendars-min.js"></script>
    <script src="#{facesContext.externalContext.requestContextPath}/static/js/name/keith-wood/calendar/jquery-calendars-plus-min.js"></script>
    <script src="#{facesContext.externalContext.requestContextPath}/static/js/name/keith-wood/calendar/jquery-calendars-picker-min.js"></script>
    <script src="#{facesContext.externalContext.requestContextPath}/static/js/name/keith-wood/calendar/jquery-calendars-thai-min.js"></script>
    <script src="#{facesContext.externalContext.requestContextPath}/static/js/name/keith-wood/calendar/jquery-calendars-thai-th.js"></script>
    <script src="#{facesContext.externalContext.requestContextPath}/static/js/name/keith-wood/calendar/jquery-calendars-picker-th.js"></script>
    <!-- calendar librarys -->
    <script type="text/javascript">
        (function($) {
            $(function() {
                function addCalendar($element) {
                    $element.calendarsPicker({
                        calendar: $.calendars.instance('thai', 'th')
                    });
                }

                addCalendar($('.ic-calendar'));
                window.addResponseListner(function() {
                    var t = setTimeout(function() {
                        clearTimeout(t);
                        $('.ic-calendar').each(function() {
                            var $that = $(this);
                            if (!$that.hasClass('hasCalendarsPicker')) {
                                addCalendar($that);
                            }
                        });
                    }, 100);
                });
            });
        }).call(this, jQuery);
    </script>
</ui:composition>